# Интерполяционный поиск

## Описание из википедии

Интерполяционный поиск (интерполирующий поиск) основан на принципе поиска в телефонной книге или, например, в словаре. Вместо сравнения каждого элемента с искомым, как при линейном поиске, данный алгоритм производит предсказание местонахождения элемента: поиск происходит подобно двоичному поиску, но вместо деления области поиска на две части, интерполирующий поиск производит оценку новой области поиска по расстоянию между ключом и текущим значением элемента. Другими словами, бинарный поиск учитывает лишь знак разности между ключом и текущим значением, а интерполирующий ещё учитывает и модуль этой разности и по данному значению производит предсказание позиции следующего элемента для проверки. В среднем интерполирующий поиск производит log(log(N)) операций, где N есть число элементов, среди которых производится поиск. Число необходимых операций зависит от равномерности распределения значений среди элементов. В плохом случае (например, когда значения элементов экспоненциально возрастают) интерполяционный поиск может потребовать до O(N) операций.

## Простыми словами

Если на плоскости есть две точки с координатами `[x1, y1]` и `[x2, y2]`, то мы можем воспользоваться линейной интерполяционной формулой для вычисления местоположения третьей точки по одной заданной координате: 

```
(x - x1) / (x1 - x2) = (y - y1) / (y1 - y2) => (x - x1) * (y1 - y2) = (y - y1) * (x1 - x2)
```

Можно вывести следующие формулы для нахождения второй координаты: 

```
y(x) = (x - x1) * (y1 - y2) / (x1 - x2) + y1

x(y) = (y - y1) * (x1 - x2) / (y1 - y2) + x1
```

Теперь представим, что в качестве одной координаты выступает искомое значение, а в качестве второй — его индекс в **отсортированной** последовательности.

## Алгоритм

1. Последовательность предварительно сортируется (если необходимо).
2. В качестве начальных точек выбираем первый и последний элемент последовательности.
3. Определяется значение индекса по формуле линейной интерполяции. Элемент по этому индексу сравнивается с искомым.
4. Если элемент равен искомому, поиск заканчивается успешно, возвращается индекс.
5. Если элемент больше искомого, сдвигаем влево правую точку.
6. Если элемент меньше искомого, сдвигаем вправо левую точку.
7. Возвращаемся к п.3 до нахождения исходного элемента, иначе возвращаем -1.
